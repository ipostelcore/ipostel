<!--
Realizado por: Yasmin Vicuña Rondon
Fecha: 23-11-2020
Titulo: Panel de Control: APICORE
 -->

<section>

    <div class="card card-primary card-outline card-outline-tabs">
        <div class="card-header p-0 border-bottom-0">
          <ul class="nav nav-tabs" id="custom-tabs-three-tab" role="tablist">
            <li class="nav-item">
              <a class="nav-link active" id="home-tab" 
                data-toggle="pill" href="#home" role="tab" aria-controls="home" aria-selected="true">Listado</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="profile-tab" 
                data-toggle="pill" href="#profile" role="tab" 
                aria-controls="profile" aria-selected="false">Crear Api desde cero</a>
            </li>
            
          </ul>
        </div>
        <div class="card-body">
          <div class="tab-content" id="TabApiCore">
            <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                <div id="jsGridApi" class="jsgrid">

                </div>
                
                
            </div>
            <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                <form role="form" id="Api">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">    
                                                    <label>HTTP / Puerto</label>                                              
                                                    <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                        <input type="checkbox" id="http">
                                                        </span>
                                                    </div>
                                                        <select class="form-control selected" id="cmbpuertohttp">
                                                            <option value="0">SELECCIONE</option>
                                                            <option value="1">8012</option>
                                                            <option value="2">8013</option>
                                                        </select>
                                                    </div>
                                                    <!-- /input-group -->
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">    
                                                    <label>HTTPS / Puerto</label>                                              
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                        <input type="checkbox" id="https">
                                                        </span>
                                                    </div>
                                                    <select class="form-control selected" id="cmbpuertohttps">
                                                        <option value="0">SELECCIONE</option>
                                                        <option value="1">2286</option>
                                                        <option value="2">2385</option>
                                                    </select>
                                                    <div class="input-group-append">
                                                        <span class="input-group-text"><i class="fas fa-eye"></i></span>
                                                    </div>
                                                </div>
                                                <!-- /input-group -->
                                            </div>
                                        </div>
                                            
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Función</label>
                                                <input type="text" id="txtFuncion" class="form-control" placeholder="Enter ...">
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Driver</label>
                                                <select id="cmbDriver" class="form-control selected" onchange="">
                                                    <option value="0">SELECCIONE</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Metodo</label>
                                                <select id="cmbMetodo" class="form-control selected">
                                                    <option value="GET" selected>GET</option>
                                                    <option value="POST">POST</option>
                                                    <option value="PUT">PUT</option>
                                                    <option value="DELETE">DELETE</option>
                                                    <option value="OPTIONS">OPTIONS</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Tipo</label>
                                                <select id="cmbTipo" class="form-control selected">
                                                    <option value="SELECT">SELECT</option>
                                                    <option value="INSERT">INSERT</option>
                                                    <option value="UPDATE">UPDATE</option>
                                                    <option value="DELETE">DELETE</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Módulo</label>
                                                <select id="cmbModulo" class="form-control selected">
                                                    <option value="0">SELECCIONE</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">    
                                                    <label>Seleccionar archivos (opcional)</label>                                              
                                                <div class="input-group">
                                                    <select class="form-control selected" id="cmbArchivos">
                                                        <option value="0">SELECCIONE</option>
                                                        
                                                    </select>
                                                    <div class="input-group-append">
                                                        <span class="input-group-text"><i class="fas fa-play"></i></span>
                                                    </div>
                                                </div>
                                                <!-- /input-group -->
                                            </div>
                                        </div>
                                        
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label>Consulta / SQL / NOSQL </label>
                                                <textarea class="form-control" rows="3" id="txtConsulta" placeholder="Enter ..."></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label>Descripción</label>
                                                <textarea class="form-control" rows="3" id="txtDescripcion" placeholder="Enter ..."></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <!-- <div class="col-md-12">
                                            <div class="form-group">
                                                <label>URL Acción</label>
                                                    <textarea class="form-control" rows="3" id="txturl" placeholder="Enter ..."></textarea>
                                            </div>
                                        </div> -->
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Prioridad</label>
                                                <select id="cmbPrioridad" class="form-control selected">
                                                    <option value="0">BAJA</option>
                                                    <option value="1">MEDIA</option>
                                                    <option value="2">ALTA</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Consumidores</label>
                                                <input type="number" id="txtConsumidores" class="form-control" >
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                <label>Registro de Log</label>
                                                <select id="cmbLog" class="form-control selected">
                                                    <option value=true>SI</option>
                                                    <option value=false>NO</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                <label>Concurrente</label>
                                                <select id="cmbConcurrente" class="form-control selected">
                                                    <option value=true>SI</option>
                                                    <option value=false>NO</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                <label>Retorno</label>
                                                <select id="cmbRetorno" class="form-control selected">
                                                    <option value=true>SI</option>
                                                    <option value=false>NO</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-footer">
                                    <button type="submit" class="btn btn-info" id="Api.Salvar()">Aceptar</button>
                                    <button type="submit" class="btn btn-default float-right">Cancelar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div> 
            <!-- Fin de tab frmapr -->
            
          </div>
        </div>
        <!-- /.card -->
      </div>

</section>



  <!-- Modal para la elaboración de formularios-->
  <div class="modal fade bs-example-modal-lg in" tabindex="-1" role="dialog"
  aria-labelledby="myLargeModalLabel" id="mdlApiEjecucion" aria-hidden="false">
  <div class="modal-dialog modal-lg" role="document">
    <!-- Modal contenido-->
    <div class="modal-content" >
        

        <div class="modal-header">
            <span id="_mdlTitulo">Probar API de conexión</span>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span>
            </button>

        </div>
        <div class="modal-body" id="_mdlCuerpo">
       
            <div class="row">
                <div class="col-md-12">
                    <div class="form-group">
                        <label>Consulta / SQL / URL</label>
                        <div style="width:100%; height:80px; overflow: scroll;">
                            <code id="codex" style="font-size:11px; width: 100%; height:80px;"></code>
                        </div>
                        <textarea 
                            style="display: none;"
                            class="form-control"
                            style="font-family: 'Lucida Console', Monaco, monospace;font-size: 0.7rem;line-height: 1.1;" 
                            rows="5" 
                            id="txtQuery" 
                            placeholder="Enter ..."></textarea>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="input-group mb-3">
                        <input style="font-size:14px;" type="text" class="form-control"  id="txtPath" readonly>
                    <div class="input-group-prepend">
                        <button type="button" class="btn btn-success" onclick="EjecutarAPI()"><i class="fas fa-play"></i></button>
                    </div>
                    <!-- /btn-group -->
                    
                    </div>
              
                </div>
           
                <div class="col-md-12">
                    <div class="form-group">
                        <label>Resultado</label>
                        <div style="width:100%; height:250px; overflow: scroll;">
                            <span id="result" style="font-size:11px; width: 100%; height: 250px;"></span>
                        </div>
                </div>
            </div>


        </div>
      <div class="modal-footer" id="_mdlPie">
            <textarea 
            
            class="form-control"
            style="display:none; font-family: 'Lucida Console', Monaco, monospace;font-size: 0.7rem;line-height: 1.1;" 
            rows="10" 
            id="txtDatail" 
            placeholder="Enter ..."></textarea>
      </div>
    </div>
  </div>
  </div>




      <div class="modal fade" id="modal-overlay" >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="overlay d-flex justify-content-center align-items-center">
                <i class="fas fa-2x fa-sync fa-spin"></i>
            </div>
            <div class="modal-header">
              <h4 class="modal-title">Default Modal</h4>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <p>One fine body&hellip;</p>
            </div>
            <div class="modal-footer justify-content-between">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Save changes</button>
            </div>
          </div>
          <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
      </div>
      <!-- /.modal -->



<script>
    var XAP = new ApiCore();
    XAP.GenerarListado();


    CargarDrivers()


    
</script>